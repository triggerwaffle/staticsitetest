 <!-- Alpine.jsのスコープを定義 -->
 <div x-data="httpParams()" x-init="init()">
     <!-- パラメータを表示 -->
     <template x-for="(value, key) in params" :key="key">
         <div>
             <span x-text="key"></span>: <span x-text="value"></span>
         </div>
     </template>
 </div>

 <script>
function httpParams() {
     return {
         params: {},

         init() {
             const queryString = window.location.search;
             const urlParams = new URLSearchParams(queryString);

             // URLSearchParamsオブジェクトを使用してパラメータを取得
             urlParams.forEach((value, key) => {
                 // パラメータをオブジェクトに追加
                 // 文字列をHTMLに変換しないため、injectionは発生しない
                 this.params[key] = this.sanitize(value);
             });
         },

         // サニタイズ関数
         sanitize(value) {
             // ここでサニタイズ処理を実装
             // 例: HTMLタグをエスケープする
             const div = document.createElement('div');
             div.textContent = value;
             return div.innerHTML;
         }
     };
 }
 </script>
